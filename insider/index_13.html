<!DOCTYPE html>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="index.css">
    <script>
        osql.requireLogin();
        display();
        async function display() {
            var sql = `select userid from Roles where roomid="${room}" and role="insider";`; //インサイダーの人のuserid取得
            var objects = await osql.connect(sql);
            console.log(objects);
            var insideruserid = objects[0]['userid']

            var sql2 = `select nickname from Users where id="${insideruserid}";`; //インサイダーの人のuseridの人の名前をUserからとってくる　多分間違ってる
            var objects2 = await osql.connect(sql2);
            console.log(objects2);
            var insidername = objects[0]['nickname']

            document.getElementById('insider').innerHTML = insidername;
        }

    </script>
</head>

<body>
    <p class="title">インサイダーゲーム</p>
    <p>インサイダーは<span id="insider"></span>でした</p>
    <p>合計
        <span id="point"></span>pt
    </p>
    <p>結果</p>
    <table id="table4">
        <!--
            <tr><td>順位</td><td>プレイヤー</td><td>１００pt</td></tr>
        -->
</body>

</html>